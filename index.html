<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WinGo Predictor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e1e;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    h2 { color: #00ffcc; }
    #animationBox img {
      width: 100px;
      animation: blink 1s infinite;
    }
    @keyframes blink {
      50% { opacity: 0.1; }
    }
    input, button {
      padding: 10px;
      margin: 5px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h2>üß† WinGo Predictor (Smart Switch Mode)</h2>

  <!-- Manual Prediction -->
  <h3>üìü Manual Prediction</h3>
  <input type="number" id="manualPeriod" placeholder="Enter Period Number (10764+)"/>
  <button onclick="manualPredict()">üîÆ Predict</button>
  <div id="manualResult"></div>

  <!-- Auto Prediction -->
  <h3>ü§ñ Auto Prediction (Live from Game)</h3>
  <button onclick="startAuto()">‚ñ∂Ô∏è Start Auto Mode</button>
  <button onclick="stopAuto()">‚õî Stop Auto</button>
  <div id="autoResult"></div>
  <div id="animationBox"></div>

  <script>
    let autoInterval;
    let autoActive = false;

    function getPrediction(number) {
      const num = parseInt(number);
      let result = {
        number: num,
        type: num >= 5 ? 'Big' : 'Small',
        color: (num === 0 || num === 5) ? 'Violet' : (num % 2 === 0 ? 'Red' : 'Green')
      };
      return result;
    }

    function manualPredict() {
      stopAuto(); // Auto off
      const period = document.getElementById("manualPeriod").value;
      if (period < 10764) {
        document.getElementById("manualResult").innerText = "‚ö†Ô∏è Enter period > 10763!";
        return;
      }
      const lastDigit = period.slice(-1);
      const prediction = getPrediction(lastDigit);
      document.getElementById("manualResult").innerHTML = `
        üî¢ Number: ${prediction.number}<br>
        üîÆ Prediction: <b>${prediction.type}</b><br>
        üé® Color: <b>${prediction.color}</b>
      `;
    }

    function startAuto() {
      document.getElementById("manualResult").innerHTML = "";
      autoActive = true;
      autoInterval = setInterval(() => {
        const el = document.querySelector(".Betting__C-numC");
        if (el && el.innerText.trim()) {
          const liveNumber = el.innerText.trim();
          const prediction = getPrediction(liveNumber);
          document.getElementById("autoResult").innerHTML = `
            üì° Live Number: ${liveNumber}<br>
            üîÆ Prediction: <b>${prediction.type}</b><br>
            üé® Color: <b>${prediction.color}</b>
          `;
          showAnimation(prediction, liveNumber);
        }
      }, 5000); // check every 5 seconds
    }

    function stopAuto() {
      autoActive = false;
      clearInterval(autoInterval);
      document.getElementById("autoResult").innerHTML = "‚õî Auto mode stopped";
      document.getElementById("animationBox").innerHTML = "";
    }

    function showAnimation(prediction, actual) {
      let expected = getPrediction(actual);
      let correct = prediction.type === expected.type;
      let img = document.createElement("img");
      img.src = correct ? "flower.gif" : "boom.gif";
      document.getElementById("animationBox").innerHTML = "";
      document.getElementById("animationBox").appendChild(img);
    }
  </script>
</body>
</html>
